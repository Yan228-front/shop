(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{20:function(t,e,c){},22:function(t,e,c){"use strict";c.r(e);var r=c(1),n=c.n(r),a=c(11),i=c.n(a),s=(c(20),c(12)),o=c(13),d=c(15),l=c(14),u=c(10),j=c(7),m=c(2),h=c(5),b=c(0),p=function(){return Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{className:"navigation",children:[Object(b.jsx)("li",{className:"navigation__item",children:Object(b.jsx)(h.b,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(b.jsx)("li",{className:"navigation__item",children:Object(b.jsx)(h.b,{to:"cart-list",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"})})]})})},O=function(t){var e=t.product,c=e.name,r=e.price,n=e.url;return Object(b.jsxs)("div",{className:"shop-list-item",children:[Object(b.jsxs)("div",{className:"shop-list-item__header",children:[Object(b.jsx)("div",{className:"shop-list-item__image",children:Object(b.jsx)("img",{src:n,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430",className:"shop-list-item__name"})}),Object(b.jsx)("h3",{className:"shop-list-item__content",children:c})]}),Object(b.jsx)("div",{className:"shop-list-item__description",children:Object(b.jsxs)("span",{className:"shop-list-item__price",children:["\u0426\u0435\u043d\u0430: ","".concat(r,"$")]})}),Object(b.jsx)("button",{className:"button",children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]})},x=function(t){var e=t.products,c=t.addProductInCart;return Object(b.jsx)("section",{className:"shop-list",children:Object(b.jsx)("ul",{className:"shop-list__list",children:e.map((function(t){var e=t.id;return Object(b.jsx)("li",{className:"shop-list__item",onClick:function(){return c(e)},children:Object(b.jsx)(O,{product:t})},e.toString())}))})})},f=[{id:0,name:"banana",price:10,url:"http://www.lookmi.ru/nature/banan.jpg"},{id:1,name:"apple",price:8,url:"https://klike.net/uploads/posts/2019-06/1561279259_1.jpg"},{id:2,name:"papaya",price:10,url:"https://dnipro.freshmart.com.ua/storage/web/cache/product/99/papaya.jpeg?w=912&h=690&fit=resize&q=80&fm=pjpg&t=1602663860&s=9f168d0deb8f516547e878c52743f74c"}],v=function(t){var e=t.cart,c=t.addProductInCart,r=t.removeProductFromCart,n=t.deletePurchasedProduct,a=e.name,i=e.url,s=e.count,o=e.totalPrice,d=e.id;return Object(b.jsxs)("div",{className:"cart-list-item",children:[Object(b.jsxs)("div",{className:"cart-list-item__header",children:[Object(b.jsx)("div",{className:"cart-list-item__image",children:Object(b.jsx)("img",{src:i,alt:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442"})}),Object(b.jsx)("h4",{className:"cart-list-item__name",children:a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"button-cart",onClick:function(){return c(d)},children:"+"}),Object(b.jsx)("span",{className:"cart-list-item__count",children:s}),Object(b.jsx)("button",{className:"button-cart",onClick:function(){return r(d)},children:"-"})]}),Object(b.jsx)("span",{className:"cart-list-item__total-price",children:o}),Object(b.jsx)("button",{className:"cart-list-item__delete",onClick:function(){return n(d)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},P=function(t){var e=t.cartList,c=t.addProductInCart,r=t.removeProductFromCart,n=t.deletePurchasedProduct,a=0,i=0;return Object(b.jsxs)("div",{children:[Object(b.jsx)("ul",{className:"cart-list",children:e.map((function(t){var e=t.id;return a+=t.totalPrice,"papaya"===t.name&&t.count>2&&(t.count%3===0?i=t.count/3*5:t.count%3===1?i=(t.count-1)/3*5:t.count%3===2&&(i=(t.count-2)/3*5)),Object(b.jsx)("div",{children:Object(b.jsx)("li",{children:Object(b.jsx)(v,{cart:t,addProductInCart:c,removeProductFromCart:r,deletePurchasedProduct:n})},e)})}))}),Object(b.jsx)("div",{children:Object(b.jsx)("p",{className:"cart-list-item-sum",children:"\u0421\u0443\u043c\u043c\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438: ".concat(a-i,"$ ")})})]})},_=function(t,e,c){return 0===e.count?[].concat(Object(j.a)(t.slice(0,c)),Object(j.a)(t.slice(c+1))):-1===c?[].concat(Object(j.a)(t),[e]):[].concat(Object(j.a)(t.slice(0,c)),[e],Object(j.a)(t.slice(c+1)))},N=function(t,e,c){return e?Object(u.a)(Object(u.a)({},e),{},{totalPrice:e.totalPrice+c*t.price,count:e.count+c}):{id:t.id,name:t.name,url:t.url,totalPrice:t.price,count:1}},C=function(t){Object(d.a)(c,t);var e=Object(l.a)(c);function c(){var t;Object(s.a)(this,c);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).state={cartList:[]},t.removeProductFromCart=function(e){var c=t.state.cartList;t.setState((function(){var t=f.find((function(t){return t.id===e})),r=c.findIndex((function(t){return t.id===e})),n=c[r],a=N(t,n,-1);return{cartList:_(c,a,r)}}))},t.deletePurchasedProduct=function(e){var c=t.state.cartList;t.setState((function(){var t=f.find((function(t){return t.id===e})),r=c.findIndex((function(t){return t.id===e})),n=c[r],a=N(t,n,-n.count);return{cartList:_(c,a,r)}}))},t.addProductInCart=function(e){var c=t.state.cartList;t.setState((function(){var t=f.find((function(t){return t.id===e})),r=c.findIndex((function(t){return t.id===e})),n=c[r],a=N(t,n,1);return{cartList:_(c,a,r)}}))},t}return Object(o.a)(c,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:".app",children:[Object(b.jsx)(p,{}),Object(b.jsx)("div",{children:Object(b.jsxs)(m.c,{children:[Object(b.jsx)(m.a,{path:"/",element:Object(b.jsx)(x,{products:f,addProductInCart:this.addProductInCart})}),Object(b.jsx)(m.a,{path:"/cart-list",exact:!0,element:Object(b.jsx)(P,{cartList:this.state.cartList,addProductInCart:this.addProductInCart,removeProductFromCart:this.removeProductFromCart,deletePurchasedProduct:this.deletePurchasedProduct})})]})})]})}}]),c}(n.a.Component),g=C,I=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,23)).then((function(e){var c=e.getCLS,r=e.getFID,n=e.getFCP,a=e.getLCP,i=e.getTTFB;c(t),r(t),n(t),a(t),i(t)}))};i.a.render(Object(b.jsx)(h.a,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),I()}},[[22,1,2]]]);
//# sourceMappingURL=main.1ecc06a7.chunk.js.map