{"version":3,"sources":["components/navigation/Navigation.jsx","components/shop-list-item/ShopListItem.jsx","components/shop-list/ShopList.jsx","products.js","components/cart-list-item/CartListItem.jsx","components/cart-list/CartList.jsx","App.js","reportWebVitals.js","index.js"],"names":["Navigation","className","to","ShopListItem","product","name","price","url","src","alt","ShopList","products","addProductInCart","map","id","onClick","toString","CartListItem","cart","removeProductFromCart","deletePurchasedProduct","count","totalPrice","CartList","cartList","sum","discount","updateCartList","newProduct","index","slice","updateProduct","getProduct","productInCart","quantity","App","state","setState","find","getProductIndex","findIndex","path","element","this","exact","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1ecc06a7.chunk.js","sourcesContent":["import { NavLink } from \"react-router-dom\";\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <nav>\r\n      <ul className='navigation'>\r\n        <li className='navigation__item'>\r\n          <NavLink to='/'>Главная</NavLink>\r\n        </li>\r\n        <li className='navigation__item'>\r\n          <NavLink to='cart-list'>Корзина</NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","const ShopListItem = ({ product }) => {\r\n  const { name, price, url } = product;\r\n  return (\r\n    <div className='shop-list-item'>\r\n      <div className='shop-list-item__header'>\r\n        <div className='shop-list-item__image'>\r\n          <img\r\n            src={url}\r\n            alt='Картинка продукта'\r\n            className='shop-list-item__name'\r\n          />\r\n        </div>\r\n        <h3 className='shop-list-item__content'>{name}</h3>\r\n      </div>\r\n      <div className='shop-list-item__description'>\r\n        <span className='shop-list-item__price'>Цена: {`${price}$`}</span>\r\n      </div>\r\n      <button className='button'>Купить</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShopListItem;\r\n","import ShopListItem from \"../shop-list-item/ShopListItem\";\r\n\r\nconst ShopList = ({ products, addProductInCart }) => {\r\n  return (\r\n    <section className='shop-list'>\r\n      <ul className='shop-list__list'>\r\n        {products.map((product) => {\r\n          const { id } = product;\r\n\r\n          return (\r\n            <li\r\n              key={id.toString()}\r\n              className='shop-list__item'\r\n              onClick={() => addProductInCart(id)}\r\n            >\r\n              <ShopListItem product={product} />\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ShopList;\r\n","export const products = [\r\n  {\r\n    id: 0,\r\n    name: \"banana\",\r\n    price: 10,\r\n    url: \"http://www.lookmi.ru/nature/banan.jpg\",\r\n  },\r\n\r\n  {\r\n    id: 1,\r\n    name: \"apple\",\r\n    price: 8,\r\n    url: \"https://klike.net/uploads/posts/2019-06/1561279259_1.jpg\",\r\n  },\r\n\r\n  {\r\n    id: 2,\r\n    name: \"papaya\",\r\n    price: 10,\r\n    url: \"https://dnipro.freshmart.com.ua/storage/web/cache/product/99/papaya.jpeg?w=912&h=690&fit=resize&q=80&fm=pjpg&t=1602663860&s=9f168d0deb8f516547e878c52743f74c\",\r\n  },\r\n];\r\n\r\n// export const phones = [\r\n//   {\r\n//     id: 0,\r\n//     name: 'Nokia 3310',\r\n//     description: 'Телефон, переживший падение в жерло вулкана',\r\n//     url: 'https://media2.24aul.ru/imgs/400x800/522b5f71787ad72e9c114b53/nokia-3310-v-ideale-dlya-tekh-kto-ponimaet-1-3151717.jpg',\r\n//     price: 2800,\r\n//   },\r\n//   {\r\n//     id: 1,\r\n//     name: 'Iphone 7',\r\n//     description: 'Не знаю, что про него написать. Но здесь должно быть что-то неописуемо интересное',\r\n//     url: \"https://apple11.ru/15701-large_default/apple-iphone-7-128-gb-jet-black-chernyj-oniks-.jpg\",\r\n//     price: 32000,\r\n//   },\r\n//   {\r\n//     id: 2,\r\n//     name: 'Samsung m51',\r\n//     url: 'https://pbs.twimg.com/media/D5AGVTpU8AAiwzf.jpg:large',\r\n//     description: 'Здесь должно быть завораживающее воображение описание, из-за которого просыпается желание купить телефон',\r\n//     price: 35000,\r\n//   }\r\n// ];\r\n","const CartListItem = ({\r\n  cart,\r\n  addProductInCart,\r\n  removeProductFromCart,\r\n  deletePurchasedProduct,\r\n}) => {\r\n  const { name, url, count, totalPrice, id } = cart;\r\n\r\n  return (\r\n    <div className='cart-list-item'>\r\n      <div className='cart-list-item__header'>\r\n        <div className='cart-list-item__image'>\r\n          <img src={url} alt='Продукт' />\r\n        </div>\r\n        <h4 className='cart-list-item__name'>{name}</h4>\r\n      </div>\r\n      <div>\r\n        <button className='button-cart' onClick={() => addProductInCart(id)}>\r\n          +\r\n        </button>\r\n        <span className='cart-list-item__count'>{count}</span>\r\n        <button\r\n          className='button-cart'\r\n          onClick={() => removeProductFromCart(id)}\r\n        >\r\n          -\r\n        </button>\r\n      </div>\r\n      <span className='cart-list-item__total-price'>{totalPrice}</span>\r\n      <button\r\n        className='cart-list-item__delete'\r\n        onClick={() => deletePurchasedProduct(id)}\r\n      >\r\n        Удалить\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartListItem;\r\n","import CartListItem from \"../cart-list-item/CartListItem\";\r\nimport { useState } from \"react\";\r\n\r\nconst CartList = ({\r\n  cartList,\r\n  addProductInCart,\r\n  removeProductFromCart,\r\n  deletePurchasedProduct,\r\n}) => {\r\n  let sum = 0;\r\n  let discount = 0;\r\n\r\n  return (\r\n    <div>\r\n      <ul className='cart-list'>\r\n        {cartList.map((cart) => {\r\n          const { id } = cart;\r\n          sum += cart.totalPrice;\r\n\r\n          if (cart.name === \"papaya\" && cart.count > 2) {\r\n            debugger;\r\n            if (cart.count % 3 === 0) {\r\n              discount = (cart.count / 3) * 5;\r\n            } else if (cart.count % 3 === 1) {\r\n              discount = ((cart.count - 1) / 3) * 5;\r\n            } else if (cart.count % 3 === 2) {\r\n              discount = ((cart.count - 2) / 3) * 5;\r\n            }\r\n          }\r\n\r\n          return (\r\n            <div>\r\n              <li key={id}>\r\n                <CartListItem\r\n                  cart={cart}\r\n                  addProductInCart={addProductInCart}\r\n                  removeProductFromCart={removeProductFromCart}\r\n                  deletePurchasedProduct={deletePurchasedProduct}\r\n                />\r\n              </li>\r\n            </div>\r\n          );\r\n        })}\r\n      </ul>\r\n\r\n      <div>\r\n        <p className='cart-list-item-sum'>{`Сумма покупки: ${\r\n          sum - discount\r\n        }$ `}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartList;\r\n","import React, { useState } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Navigation from \"./components/navigation/Navigation\";\nimport ShopList from \"./components/shop-list/ShopList\";\nimport { products } from \"./products\";\nimport CartList from \"./components/cart-list/CartList\";\n\nconst updateCartList = (cartList, newProduct, index) => {\n  if (newProduct.count === 0) {\n    return [...cartList.slice(0, index), ...cartList.slice(index + 1)];\n  }\n\n  if (index === -1) {\n    return [...cartList, newProduct];\n  }\n\n  return [\n    ...cartList.slice(0, index),\n    newProduct,\n    ...cartList.slice(index + 1),\n  ];\n};\n\nconst updateProduct = (getProduct, productInCart, quantity) => {\n  if (productInCart) {\n    return {\n      ...productInCart,\n      totalPrice: productInCart.totalPrice + quantity * getProduct.price,\n      count: productInCart.count + quantity,\n    };\n  }\n\n  return {\n    id: getProduct.id,\n    name: getProduct.name,\n    url: getProduct.url,\n    totalPrice: getProduct.price,\n    count: 1,\n  };\n};\n\nclass App extends React.Component {\n  state = {\n    cartList: [],\n  };\n\n  removeProductFromCart = (id) => {\n    const { cartList } = this.state;\n\n    this.setState(() => {\n      const getProduct = products.find((product) => product.id === id);\n      const getProductIndex = cartList.findIndex(\n        (product) => product.id === id\n      );\n      const productInCart = cartList[getProductIndex];\n\n      const newProduct = updateProduct(getProduct, productInCart, -1);\n      const newArray = updateCartList(cartList, newProduct, getProductIndex);\n\n      return {\n        cartList: newArray,\n      };\n    });\n  };\n\n  deletePurchasedProduct = (id) => {\n    const { cartList } = this.state;\n\n    this.setState(() => {\n      const getProduct = products.find((product) => product.id === id);\n      const getProductIndex = cartList.findIndex(\n        (product) => product.id === id\n      );\n      const productInCart = cartList[getProductIndex];\n\n      const newProduct = updateProduct(\n        getProduct,\n        productInCart,\n        -productInCart.count\n      );\n      const newArray = updateCartList(cartList, newProduct, getProductIndex);\n\n      return {\n        cartList: newArray,\n      };\n    });\n  };\n\n  addProductInCart = (id) => {\n    const { cartList } = this.state;\n\n    this.setState(() => {\n      const getProduct = products.find((product) => product.id === id);\n      const getProductIndex = cartList.findIndex(\n        (product) => product.id === id\n      );\n      const productInCart = cartList[getProductIndex];\n\n      const newProduct = updateProduct(getProduct, productInCart, 1);\n      const newArray = updateCartList(cartList, newProduct, getProductIndex);\n\n      return {\n        cartList: newArray,\n      };\n    });\n  };\n\n  render() {\n    return (\n      <div className='.app'>\n        <Navigation />\n        <div>\n          <Routes>\n            <Route\n              path='/'\n              element={\n                <ShopList\n                  products={products}\n                  addProductInCart={this.addProductInCart}\n                />\n              }\n            />\n            <Route\n              path='/cart-list'\n              exact\n              element={\n                <CartList\n                  cartList={this.state.cartList}\n                  addProductInCart={this.addProductInCart}\n                  removeProductFromCart={this.removeProductFromCart}\n                  deletePurchasedProduct={this.deletePurchasedProduct}\n                />\n              }\n            />\n          </Routes>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}